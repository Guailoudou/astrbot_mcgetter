# astrbot_mcgetter

<div align="center">

![:name](https://count.getloli.com/@astrbot_mcgetter?name=astrbot_mcgetter&theme=minecraft&padding=7&offset=0&align=top&scale=1&pixelated=1&darkmode=auto)

</div>

## 简介

AstrBot Minecraft服务器信息查询插件，用于查询Minecraft服务器状态信息并使用图片展示。支持多服务器管理、实时状态查询、玩家列表显示等功能。

## 功能特性

- 🎮 **多服务器管理** - 支持添加、删除、查询多个Minecraft服务器
- 📊 **实时状态查询** - 获取服务器在线状态、玩家数量、延迟等信息
- 👥 **玩家列表显示** - 显示当前在线玩家列表
- 🖼️ **图片化展示** - 将服务器信息渲染为美观的图片
- 🔒 **地址验证** - 自动验证服务器地址格式和连接性
- 📝 **群组独立** - 每个群组独立管理服务器列表

## 安装说明

1. 确保已安装 AstrBot
2. 将插件文件放入 AstrBot 插件目录
3. 重启 AstrBot 或重新加载插件
4. 在群聊中使用 `/mchelp` 查看帮助

## 使用方法

### 基础命令

| 命令 | 参数 | 说明 |
|------|------|------|
| `/mchelp` | 无 | 查看帮助信息 |
| `/mc` | 无 | 查询所有保存的服务器状态 |
| `/mcadd` | 服务器名称 服务器地址 [force] | 添加要查询的服务器 |
| `/mcget` | 服务器名称 | 获取指定服务器的地址信息 |
| `/mcdel` | 服务器名称 | 删除指定的服务器 |

### 详细说明

#### 添加服务器
```
/mcadd 服务器名称 服务器地址 [force]
```
- **服务器名称**: 自定义的服务器名称
- **服务器地址**: 服务器IP地址或域名（支持端口号）
- **force**: 可选参数，设为True时跳过预查询检查强制添加

**示例**:
```
/mcadd Hypixel mc.hypixel.net
/mcadd 本地服务器 127.0.0.1:25565 True
```

#### 查询服务器
```
/mc
```
查询所有已保存的服务器状态，返回包含以下信息的图片：
- 服务器名称
- 在线状态
- 玩家数量（当前/最大）
- 服务器版本
- 延迟
- 在线玩家列表

#### 获取服务器地址
```
/mcget 服务器名称
```
获取指定服务器的地址信息。

#### 删除服务器
```
/mcdel 服务器名称
```
从列表中删除指定的服务器。

## 支持的功能

- ✅ 多服务器管理
- ✅ 实时状态查询
- ✅ 玩家列表显示
- ✅ 图片化信息展示
- ✅ 地址格式验证
- ✅ 群组独立配置
- ✅ 强制添加模式

## 技术特性

- **地址验证**: 只允许字母、数字和符号 `.,:` 在服务器地址中
- **预查询检查**: 添加服务器前自动验证连接性
- **错误处理**: 完善的异常处理和用户友好的错误提示
- **日志记录**: 详细的操作日志便于调试

## 支持

- [AstrBot 帮助文档](https://astrbot.app)
- [GitHub Issues](https://github.com/your-repo/astrbot_mcgetter/issues)

## 开发计划

### TODO

- [ ] 玩家名称颜色随在线天数改变
- [ ] 服务器状态历史记录
- [ ] 自定义图片主题
- [ ] 定时自动查询功能
- [ ] 服务器分组管理

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个插件！

---

<div align="center">

**Made with ❤️ for Minecraft Community**

</div>
